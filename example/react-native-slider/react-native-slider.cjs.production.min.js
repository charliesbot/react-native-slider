"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t,e=require("react"),n=(t=e)&&"object"==typeof t&&"default"in t?t.default:t,i=require("react-native"),a=require("components/DebugThumbTouchRect/DebugThumbTouchRect");function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}var o=i.StyleSheet.create({container:{height:40,justifyContent:"center"},track:{height:4,borderRadius:2},thumb:{position:"absolute",width:20,height:20,borderRadius:10},touchArea:{position:"absolute",backgroundColor:"transparent",top:0,left:0,right:0,bottom:0},debugThumbTouchArea:{position:"absolute",backgroundColor:"green",opacity:.5}}),u=function(t){var e=t.thumbImage;return e?n.createElement(i.Image,{source:e}):null},h=function(){function t(t){var e=t.y,n=t.width,i=t.height;this.x=t.x,this.y=e,this.width=n,this.height=i}return t.prototype.containsPoint=function(t){var e=t.x,n=t.y;return e>=this.x&&n>=this.y&&e<=this.x+this.width&&n<=this.y+this.height},t}(),d={spring:{friction:7,tension:100},timing:{duration:150,easing:i.Easing.inOut(i.Easing.ease),delay:0}},c=function(t){return t.__getValue()},l={width:0,height:0},s={},m=function(t){var m,g,f=e.useRef(null),v=t.animationConfig,b=t.animateTransitions,w=t.animationType,p=void 0===w?"timing":w,y=t.debugTouchArea,T=void 0!==y&&y,S=t.maximumTrackTintColor,R=void 0===S?"#b3b3b3":S,x=t.maximumValue,A=void 0===x?1:x,V=t.minimumTrackTintColor,k=void 0===V?"#3f3f3f":V,C=t.minimumValue,E=void 0===C?0:C,M=t.step,P=void 0===M?0:M,z=t.styles,L=t.style,j=t.thumbImage,I=t.thumbStyle,O=t.thumbTintColor,H=void 0===O?"#343434":O,q=t.thumbTouchSize,_=void 0===q?{width:40,height:40}:q,D=t.trackStyle,X=t.value,Y=void 0===X?0:X,B=t.disabled,G=e.useState(l),F=G[0],J=G[1],K=e.useState(l)[1],N=e.useState(l),Q=N[0],U=N[1],W=e.useState(!1),Z=W[0],$=W[1],tt=e.useState(new i.Animated.Value(Y)),et=tt[0],nt=tt[1];e.useEffect((function(){f.current=i.PanResponder.create({onStartShouldSetPanResponder:wt,onMoveShouldSetPanResponder:pt,onPanResponderGrant:ft,onPanResponderMove:ot,onPanResponderRelease:ht,onPanResponderTerminationRequest:ut,onPanResponderTerminate:ht})}),[]),e.useEffect((function(){b?function(t){var e=t.value,n=t.animationType,a=t.animationConfig,o=t.currentValue,u=r(r(r({},d[n]),a),{},{toValue:e});i.Animated[n](o,u).start()}({value:Y,currentValue:et,animationConfig:v,animationType:p}):nt(new i.Animated.Value(Y))}),[Y]);var it=z||o,at=et.interpolate({inputRange:[E,A],outputRange:i.I18nManager.isRTL?[0,-(F.width-Q.width)]:[0,F.width-Q.width]}),rt=function(t){var e=(g+t.dx)/length,n=i.I18nManager.isRTL?1-e:e;return P?Math.max(E,Math.min(A,E+Math.round(n*(A-E)/P)*P)):Math.max(E,Math.min(A,n*(A-E)+E))},ot=function(t,e){B||(nt(new i.Animated.Value(rt(e))),gt("onValueChange"))},ut=function(){return!1},ht=function(t,e){B||(nt(new i.Animated.Value(rt(e))),gt("onSlidingComplete"))},dt=function(t){return function(e){return a=(i=e.nativeEvent.layout).width,r=i.height,void((o=s[n=t])&&a===o.width&&r===o.height||(s[n]={width:a,height:r},s.containerSize&&s.trackSize&&s.thumbSize&&(J(s.containerSize),K(s.trackSize),U(s.thumbSize),$(!0))));var n,i,a,r,o}},ct=dt("containerSize"),lt=dt("trackSize"),st=dt("thumbSize"),mt=et.interpolate({inputRange:[E,A],outputRange:[0,F.width-Q.width]}),gt=function(e){var n;null===(n=t[e])||void 0===n||n.call(t,c(et))},ft=function(){g=bt(c(et)),gt("onSlidingStart")},vt=function(){var t={};return Z&&(t.width=Math.max(0,_.width-Q.width),t.height=Math.max(0,_.height-F.height)),t},bt=function(t){var e=function(t){return(t-E)/(A-E)}(t);return(i.I18nManager.isRTL?1-e:e)*(F.width-Q.width)},wt=function(t){var e,n=t.nativeEvent,i=yt();return null!==(e=null==i?void 0:i.containsPoint({x:n.locationX,y:n.locationY}))&&void 0!==e&&e},pt=function(){return!1},yt=function(){var t=vt();if(t.width&&t.height)return new h({x:t.width/2+bt(c(et))+(Q.width-_.width)/2,y:t.height/2+(F.height-_.height)/2,width:_.width,height:_.height})},Tt={};Z||(Tt.opacity=0);var St=r({position:"absolute",width:i.Animated.add(mt,Q.width/2),backgroundColor:k},Tt),Rt=function(){var t=vt(),e=t.width,n=t.height,i={};if(void 0!==e&&void 0!==n){var a=-n/2;i.marginTop=a,i.marginBottom=a;var r=-e/2;i.marginLeft=r,i.marginRight=r}return T&&(i.backgroundColor="orange",i.opacity=.5),i}();return n.createElement(i.View,Object.assign({},t,{style:[it.container,L],onLayout:ct}),n.createElement(i.View,{style:[{backgroundColor:R},it.track,D],renderToHardwareTextureAndroid:!0,onLayout:lt}),n.createElement(i.Animated.View,{renderToHardwareTextureAndroid:!0,style:[it.track,D,St]}),n.createElement(i.Animated.View,{onLayout:st,renderToHardwareTextureAndroid:!0,style:[{backgroundColor:H},it.thumb,I,r({transform:[{translateX:at},{translateY:0}]},Tt)]},n.createElement(u,{thumbImage:j})),n.createElement(i.View,Object.assign({renderToHardwareTextureAndroid:!0,style:[o.touchArea,Rt]},null===(m=f.current)||void 0===m?void 0:m.panHandlers),n.createElement(a.DebugThumbTouchRect,{debugTouchArea:T,thumbLeft:mt,thumbTouchRect:yt()})))};exports.default=n.memo(m);
//# sourceMappingURL=react-native-slider.cjs.production.min.js.map
